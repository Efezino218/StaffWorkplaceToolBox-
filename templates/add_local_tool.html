{% extends 'base.html' %}

{% block content %}
<h1>Add Local Tool</h1>
<form action="{{ url_for('add_local_tool') }}" method="POST" enctype="multipart/form-data">
    <label for="file">Choose File:</label>
    <input type="file" id="file" name="file" required>
    <button type="submit">Upload Local Tool</button>
</form>

{#<h2>Uploaded Local Tools</h2>
<div class="table-responsive custom-scroll">
    <table class="table custom-table">
        <thead>
            <tr>
                <th>File Name</th>
                <th>File Type</th>
                <th>Preview</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for tool in local_tools %}
            <tr>
                <td>{{ tool[2] }}</td> <!-- Assuming file_name is at index 2 -->
                <td>
                    {% if tool[4].startswith('image/') %}
                    <img src="{{ url_for('static', filename='img/image-file.png') }}" alt="Image"
                        style="width: 50px; height: 50px;">
                    {% elif tool[4] == 'application/pdf' %}
                    <img src="{{ url_for('static', filename='img/pdf-file-format.png') }}" alt="PDF"
                        style="width: 50px; height: 50px;">
                    {% elif tool[4] == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' %}
                    <img src="{{ url_for('static', filename='img/excel-file.png') }}" alt="Excel"
                        style="width: 50px; height: 50px;">
                    {% elif tool[4] == 'application/vnd.openxmlformats-officedocument.presentationml.presentation' %}
                    <img src="{{ url_for('static', filename='img/powerpoint.png') }}" alt="PowerPoint"
                        style="width: 50px; height: 50px;">
                    {% elif tool[4] == 'application/msword' or tool[4] ==
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document' %}
                    <img src="{{ url_for('static', filename='img/word.png') }}" alt="Word"
                        style="width: 50px; height: 50px;">
                    {% else %}
                    <img src="{{ url_for('static', filename='img/file.png') }}" alt="File"
                        style="width: 50px; height: 50px;">
                    {% endif %}
                </td>
                <td>
                    {% if tool[4].startswith('image/') %}
                    <img src="{{ tool[3] }}" alt="{{ tool[2] }}" style="width: 50px; height: 50px;">
                    {% elif tool[4].startswith('application/') %}
                    <span>Document</span>
                    {% elif tool[4].startswith('video/') %}
                    <span>Video</span>
                    {% else %}
                    <span>File</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ tool[3] }}" target="_blank" class="btn btn-open">Open</a>
                    <a href="#" class="btn btn-delete"
                        onclick="return confirm('Are you sure you want to delete this tool?');">Delete</a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" style="text-align: center;">No local tools found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>#}
{% endblock %}